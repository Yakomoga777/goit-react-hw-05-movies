{"version":3,"file":"static/js/389.141964d0.chunk.js","mappings":"yQAEaA,E,OAAcC,GAAAA,IAAH,mG,SCqExB,EAlEyB,WAAO,IAAD,IAEvBC,GAASC,EAAAA,EAAAA,MAEf,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,IAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KACA,GAA0BN,EAAAA,EAAAA,UAAS,IAAnC,eAAOO,EAAP,KAAcC,EAAd,KACA,GAA4BR,EAAAA,EAAAA,UAAS,IAArC,eAAOS,EAAP,KAAeC,EAAf,KAGMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAC3DC,QAAQC,IAAIP,GACZM,QAAQC,IAAIL,IAEZM,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,8GAEgBC,EAAAA,EAAAA,IAAgBvB,EAAOwB,SAFvC,OAERC,EAFQ,OAIdrB,EAASqB,EAAgBtB,OACzBG,EAAcmB,EAAgBC,cAC9BlB,EAAYiB,EAAgBlB,UAC5BG,EAASe,EAAgBE,aACzBf,EAAUa,EAAgBd,QARZ,wJAAH,qDAgBfW,GACD,GAAE,CAACtB,EAAOwB,UAEX,IAAMI,EAAcjB,EAAOkB,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MAEzD,OACE,iCACE,SAAC,KAAD,CAAMC,GAAIlB,EAAoBmB,QAA9B,UACE,mBAAQC,KAAK,SAAb,+CAEF,wBAAKhC,KACL,wCAAgBE,MAChB,gBACE+B,IAAG,yCAAoC3B,GACvC4B,IAAI,GACJC,MAAM,SAGR,sCACA,uBAAI/B,KACJ,oCACA,uBAAIqB,KACJ,UAAC9B,EAAD,YACE,SAAC,KAAD,CAAMmC,GAAI,OAAV,mBACA,SAAC,KAAD,CAAMA,GAAI,UAAV,yBAEF,SAAC,EAAAM,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C,+LCnEDC,EAAAA,EAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAM,mCASCC,EAAW,mCAAG,WAAMC,GAAN,uFACFH,EAAAA,EAAAA,IAAA,qCAAwCC,EAAxC,YADE,cACnBG,EADmB,yBAElBA,EAASC,MAFS,2CAAH,sDAKXC,EAAY,mCAAG,WAAMC,GAAN,8EAC1B7B,QAAQC,IAAI4B,GADc,SAGHP,EAAAA,EAAAA,IAAA,+BACGC,EADH,iCAC+BM,EAD/B,gCAHG,cAGpBH,EAHoB,OAM1B1B,QAAQC,IAAIyB,EAASC,KAAKG,SANA,kBAOnBJ,EAASC,MAPU,2CAAH,sDAUZvB,EAAe,mCAAG,WAAMC,GAAN,uFACNiB,EAAAA,EAAAA,IAAA,gBACZjB,EADY,oBACOkB,EADP,oBADM,cACvBG,EADuB,yBAItBA,EAASC,MAJa,2CAAH,sDAOfI,EAAe,mCAAG,WAAM1B,GAAN,uFACNiB,EAAAA,EAAAA,IAAA,gBACZjB,EADY,4BACekB,EADf,oBADM,cACvBG,EADuB,yBAItBA,EAASC,MAJa,2CAAH,sDAOfK,EAAe,mCAAG,WAAM3B,GAAN,uFACNiB,EAAAA,EAAAA,IAAA,gBACZjB,EADY,4BACekB,EADf,2BADM,cACvBG,EADuB,yBAItBA,EAASC,MAJa,2CAAH,qD","sources":["pages/MovieDetails.styled.js","pages/MovieDetailsPage.jsx","servieses/api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledLinks = styled.div`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n\n  height: 50px;\n`;\n","import React, { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { getMovieDetails } from 'servieses/api';\nimport { StyledLinks } from './MovieDetails.styled';\n\nconst MovieDetailsPage = () => {\n  //Використовуємо хук useParams для отримання ДИНАМІЧНОГО ідентифікатора\n  const params = useParams();\n\n  const [title, setTitle] = useState('');\n  const [popularity, setPopularity] = useState('');\n  const [overview, setOverview] = useState('');\n  const [image, setImage] = useState('');\n  const [genres, setGenres] = useState([]);\n\n  //Запам\"ятовуємо локацію Хуком useLocation()\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  console.log(location);\n  console.log(backLinkLocationRef);\n\n  useEffect(() => {\n    const getMovies = async () => {\n      try {\n        const responseDetails = await getMovieDetails(params.movieId);\n        // setMovies(responseSearch.results);\n        setTitle(responseDetails.title);\n        setPopularity(responseDetails.vote_average);\n        setOverview(responseDetails.overview);\n        setImage(responseDetails.poster_path);\n        setGenres(responseDetails.genres);\n\n        // console.log(responseDetails);\n      } catch (error) {\n      } finally {\n      }\n    };\n\n    getMovies();\n  }, [params.movieId]);\n\n  const gernesNames = genres.map(genre => genre.name).join(', ');\n\n  return (\n    <>\n      <Link to={backLinkLocationRef.current}>\n        <button type=\"button\">Назад</button>\n      </Link>\n      <h2>{title}</h2>\n      <p>User Score: {popularity}</p>\n      <img\n        src={`https://image.tmdb.org/t/p/w500${image}`}\n        alt=\"\"\n        width=\"300\"\n      ></img>\n\n      <h3>Overview</h3>\n      <p>{overview}</p>\n      <h4>Genres</h4>\n      <p>{gernesNames}</p>\n      <StyledLinks>\n        <Link to={'cast'}>CasT</Link>\n        <Link to={'reviews'}>Reviews</Link>\n      </StyledLinks>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst KEY = '093eced159a193fa46a358712eff484b';\n\nexport const fetchFilms = async () => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`\n  );\n\n  return response;\n};\nexport const getTrending = async page => {\n  const response = await axios.get(`trending/movie/day?api_key=${KEY}&page=1`);\n  return response.data;\n};\n\nexport const searchMovies = async query => {\n  console.log(query);\n\n  const response = await axios.get(\n    `search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  console.log(response.data.results);\n  return response.data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}?api_key=${KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return response.data;\n};\n"],"names":["StyledLinks","styled","params","useParams","useState","title","setTitle","popularity","setPopularity","overview","setOverview","image","setImage","genres","setGenres","location","useLocation","backLinkLocationRef","useRef","state","from","console","log","useEffect","getMovies","getMovieDetails","movieId","responseDetails","vote_average","poster_path","gernesNames","map","genre","name","join","to","current","type","src","alt","width","Suspense","fallback","axios","KEY","getTrending","page","response","data","searchMovies","query","results","getMovieCredits","getMovieReviews"],"sourceRoot":""}